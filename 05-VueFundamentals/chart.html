<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://unpkg.com/vue-chartjs/dist/vue-chartjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


</head>
<body>
 <div id="app">
    <button v-on:click="displayChart()" >generate chart</v-bt>

  </div>
  <canvas id="myChart" width="300" height="200"></canvas>
<script>
  var languageArr = new Array();
  var popularityArr = new Array();

  var ctx = document.getElementById('myChart').getContext('2d');


</script>

  <script>
    var app = new Vue({
      el: '#app',
      data: {
        films: [
          {
            language: 'Python',
            popularity: 25.95
          },
          {
            language: 'Java',
            popularity: 21.42
          },
          {
            language: 'JavaScript',
            popularity: 8.26
          },
          {
            language: 'C#',
            popularity: 7.62
          },
          {
            language: 'Php',
            popularity: 7.37
          }
        ] 
      },
      computed:{
        getLanguageList: function(){
          this.films.map(lan => {
            languageArr.push(lan.language)
          })
            return languageArr
        },
        getPopularityList: function(){
          this.films.map(lan => {
            popularityArr.push(lan.popularity)
          })
          
            return popularityArr
          }
        },
        methods: {
        displayChart: function(){
          var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: this.getLanguageList,
              datasets: [{
                  label: '# of Votes',
                  data: this.getPopularityList,
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
          options: {
              scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero: true
                      }
                  }]
              }
          }
      });}
        }

    });
  </script>
</body>
</html>